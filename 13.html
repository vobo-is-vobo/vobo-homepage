<!-- MailerLite Universal -->
<script>
    (function(w,d,e,u,f,l,n){w[f]=w[f]||function(){(w[f].q=w[f].q||[])
    .push(arguments);},l=d.createElement(e),l.async=1,l.src=u,
    n=d.getElementsByTagName(e)[0],n.parentNode.insertBefore(l,n);})
    (window,document,'script','https://assets.mailerlite.com/js/universal.js','ml');
    ml('account', '1940462');
</script>
<!-- End MailerLite Universal -->

<style>
    /* 浮動系統容器：確保絕對懸浮不影響排版 */
    .floating-system {
        position: fixed;
        right: 25px;
        bottom: 80px; 
        z-index: 2000;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans TC", sans-serif;
        pointer-events: none; /* 穿透容器，確保不影響背景點擊 */
    }

    .floating-system * {
        pointer-events: auto; /* 恢復子元件的點擊功能 */
    }

    /* 提示文字氣泡：移除底色與陰影，僅保留純文字懸浮 */
    .toast-notice {
        padding: 5px 0;
        display: flex;
        align-items: center;
        gap: 8px;
        transform: translateX(150%);
        transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        cursor: pointer;
        margin-bottom: 2px;
    }

    .toast-notice.active { 
        transform: translateX(0); 
    }

    .toast-text {
        font-size: 14px;
        font-weight: 700;
        color: #26394b;
        text-shadow: 1px 1px 0px rgba(255,255,255,0.8); /* 增加文字可讀性 */
    }

    .toast-close { 
        font-size: 16px; 
        color: #999; 
        cursor: pointer;
        opacity: 0.6;
    }
    
    .toast-close:hover {
        opacity: 1;
    }

    /* 箭頭區塊 */
    .get-discount-wrapper {
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        cursor: pointer;
    }

    .arrow-icon {
        font-size: 24px;
        color: #f9a31a;
        animation: bounceDown 1.5s infinite;
        margin-right: 15px; 
        line-height: 1;
    }

    @keyframes bounceDown {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
    }

    @media (max-width: 768px) {
        .floating-system {
            right: 15px;
            bottom: 60px;
        }
    }
</style>

<!-- 浮動元件結構 -->
<div class="floating-system">
    <div id="promoToast" class="toast-notice" onclick="ml('show','LBUqjv', true)">
        <div class="toast-text">✨ 恭喜！您有一份 9 折優惠待領取</div>
        <div class="toast-close" onclick="event.stopPropagation(); hideToast()">✕</div>
    </div>

    <div class="get-discount-wrapper" onclick="ml('show','LBUqjv', true)">
        <div class="arrow-icon">▼</div>
    </div>
</div>

<script>
    window.addEventListener('load', () => {
        setTimeout(() => {
            const toast = document.getElementById('promoToast');
            if (toast) toast.classList.add('active');
        }, 1000);
    });

    function hideToast() {
        const toast = document.getElementById('promoToast');
        if (toast) toast.classList.remove('active');
    }
</script>
